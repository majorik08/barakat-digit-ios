//
//  PaymentService.swift
//  BarakatWallet
//
//  Created by km1tj on 01/11/23.
//

import Foundation
import RxSwift

protocol PaymentsService: Service {
    func loadPayments() -> Single<AppMethods.Payments.GetServices.ServicesResult>
}

final class PaymentsServiceImpl: PaymentsService {
    
    func loadPayments() -> Single<AppMethods.Payments.GetServices.ServicesResult> {
        return Single<AppMethods.Payments.GetServices.ServicesResult>.create { single in
            APIManager.instance.request(.init(AppMethods.Payments.GetServices(.init())), auth: .auth, timeOut: 20) { response in
                switch response.result {
                case .success(let result):
                    if let first = result.first {
                        single(.success(first))
                    } else {
                        single(.failure(APIManager.instance.decodeError))
                    }
                case .failure(let error):
                    single(.failure(error))
                }
            }
            return Disposables.create()
        }
    }
}

final class PaymentsServiceMockImpl: PaymentsService {
    
    func loadPayments() -> Single<AppMethods.Payments.GetServices.ServicesResult> {
        let json = """
                    {"groups":[{"id":3,"name":"Mobile services","image":"","services":[{"id":14,"name":"Вавилон-М","image":"","isCheck":1,"params":[{"id":2,"param":1,"name":"Enter phone number (9 digits)","coment":"Enter phone number (9 digits)","prefix":"992","keyboard":0,"minLen":0,"maxLen":0,"mask":"^((98)\\d{7}$)|^(94\\d{7}$)|^(|918\\d{6})$"}]},{"id":13,"name":"Anor","image":"","isCheck":1,"params":[{"id":1,"param":1,"name":"Enter phone number (9 digits)","coment":"Enter phone number (9 digits)","prefix":"992","keyboard":0,"minLen":0,"maxLen":0,"mask":"78, 87"}]},{"id":15,"name":"Megafon Tajikistan","image":"","isCheck":1,"params":[{"id":3,"param":1,"name":"Enter phone number (9 digits)","coment":"Enter phone number (9 digits)","prefix":"992","keyboard":0,"minLen":0,"maxLen":0,"mask":"90, 97, 55, 41, 00, 88"}]},{"id":16,"name":"ZET-Mobile","image":"","isCheck":1,"params":[{"id":4,"param":1,"name":"Enter phone number (9 digits)","coment":"Enter phone number (9 digits)","prefix":"992","keyboard":0,"minLen":0,"maxLen":0,"mask":"911, 911, 913, 914, 915, 916, 40, 80, 917, 919"}]},{"id":17,"name":"Tcell","image":"","isCheck":1,"params":[{"id":5,"param":1,"name":"Enter phone number (9 digits)","coment":"Enter phone number (9 digits)","prefix":"992","keyboard":0,"minLen":0,"maxLen":0,"mask":"92, 93, 50, 99, 77, 11"}]},{"id":18,"name":"OMobile","image":"","isCheck":1,"params":[{"id":6,"param":1,"name":"Enter phone number (9 digits)","coment":"Enter phone number (9 digits)","prefix":"992","keyboard":0,"minLen":0,"maxLen":0,"mask":"20"}]},{"id":19,"name":"T-Cell(92***)","image":"","isCheck":1,"params":[{"id":7,"param":1,"name":"account number","coment":"account number","prefix":"992","keyboard":0,"minLen":0,"maxLen":0,"mask":"92"}]}]},{"id":1,"name":"City communications, NGN","image":"","services":[{"id":20,"name":"Telecom Tech NGN","image":"","isCheck":0,"params":[{"id":8,"param":1,"name":"enter your personal account number","coment":"enter your personal account number","prefix":"992","keyboard":0,"minLen":0,"maxLen":0,"mask":"48"}]},{"id":21,"name":"Megafone NGN","image":"","isCheck":1,"params":[{"id":9,"param":1,"name":"enter your personal account number","coment":"enter your personal account number","prefix":"992","keyboard":0,"minLen":0,"maxLen":0,"mask":"446"}]},{"id":22,"name":"Babilon-NGN","image":"","isCheck":0,"params":[{"id":10,"param":1,"name":"enter your personal account number","coment":"enter your personal account number","prefix":"992","keyboard":0,"minLen":0,"maxLen":0,"mask":"46"}]},{"id":23,"name":"TajikTelecom","image":"","isCheck":0,"params":[{"id":11,"param":1,"name":"enter your personal account number","coment":"enter your personal account number","prefix":"992","keyboard":0,"minLen":0,"maxLen":0,"mask":"37"}]}]},{"id":5,"name":"Коммунальные услуги","image":"","services":[]},{"id":6,"name":"Wallets","image":"","services":[{"id":64,"name":"Replenishment of Favry","image":"","isCheck":1,"params":[{"id":67,"param":1,"name":"wallet account number","coment":"wallet account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":65,"name":"TawhidPay","image":"","isCheck":1,"params":[{"id":68,"param":1,"name":"wallet account number","coment":"wallet account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":68,"name":"Bank Arvand Wallet","image":"","isCheck":1,"params":[{"id":71,"param":1,"name":"wallet account number","coment":"wallet account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":69,"name":"Wallet (Alif-Bank)","image":"","isCheck":1,"params":[{"id":72,"param":1,"name":"wallet account number","coment":"wallet account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"^[1-9]{1}\\d*(\\.\\d{1,2})?$"}]},{"id":70,"name":"MegaFon Life","image":"","isCheck":1,"params":[{"id":73,"param":1,"name":"account number","coment":"account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":66,"name":"IBT WALLET","image":"","isCheck":1,"params":[{"id":69,"param":1,"name":"wallet account number","coment":"wallet account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":67,"name":"Humo Online","image":"","isCheck":1,"params":[{"id":70,"param":1,"name":"wallet account number","coment":"wallet account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]}]},{"id":7,"name":"Banks","image":"","services":[{"id":24,"name":"MDO Humo credit","image":"","isCheck":1,"params":[{"id":12,"param":1,"name":"enter loan ID","coment":"enter loan ID","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":25,"name":"Loan payment Commerce Bank of Tajikistan","image":"","isCheck":1,"params":[{"id":13,"param":1,"name":"enter loan ID","coment":"enter loan ID","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":26,"name":"Bank Arvand deposite","image":"","isCheck":1,"params":[{"id":14,"param":1,"name":"enter deposit ID","coment":"enter deposit ID","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":27,"name":"Bank Arvand Credit","image":"","isCheck":1,"params":[{"id":15,"param":1,"name":"enter loan ID","coment":"enter loan ID","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":28,"name":"MDO FINCA","image":"","isCheck":1,"params":[{"id":16,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":29,"name":"Deposit (Alif bank)","image":"","isCheck":1,"params":[{"id":17,"param":1,"name":"enter deposit ID","coment":"enter deposit ID","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":30,"name":"IBT Credit","image":"","isCheck":1,"params":[{"id":18,"param":1,"name":"enter loan ID","coment":"enter loan ID","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":31,"name":"Spitamen Bank Credit","image":"","isCheck":1,"params":[{"id":19,"param":1,"name":"enter loan ID","coment":"enter loan ID","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":32,"name":" Loan repayment - Tawhid","image":"","isCheck":1,"params":[{"id":20,"param":1,"name":"enter loan ID","coment":"enter loan ID","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":33,"name":"MDO HUMO Depozit","image":"","isCheck":1,"params":[{"id":21,"param":1,"name":"enter deposit ID","coment":"enter deposit ID","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":34,"name":"Kredit Alif Bank","image":"","isCheck":1,"params":[{"id":22,"param":1,"name":"enter loan ID","coment":"enter loan ID","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":35,"name":" Tamvil - Loan repayment","image":"","isCheck":0,"params":[{"id":23,"param":1,"name":"enter loan ID","coment":"enter loan ID","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":36,"name":"Deposit replenishment-Tawhid","image":"","isCheck":1,"params":[{"id":24,"param":1,"name":"enter deposit ID","coment":"enter deposit ID","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":37,"name":"AtlasPay","image":"","isCheck":0,"params":[{"id":25,"param":1,"name":"enter account number","coment":"enter account number","prefix":"8","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":41,"name":"Spitamen Bank Visa","image":"","isCheck":1,"params":[{"id":30,"param":1,"name":"enter card ID","coment":"enter card ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":42,"name":"Korti milli Alif Bank","image":"","isCheck":1,"params":[{"id":31,"param":1,"name":"enter card ID","coment":"enter card ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"^[1-9]{1}\\d*(\\.\\d{1,2})?$"}]},{"id":43,"name":"Spitamen Bank Korti Milli","image":"","isCheck":1,"params":[{"id":32,"param":1,"name":"enter card ID","coment":"enter card ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":44,"name":"IBT Korti milli","image":"","isCheck":1,"params":[{"id":33,"param":1,"name":"enter card ID","coment":"enter card ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"^[1-9]{1}\\d*(\\.\\d{1,2})?$"}]},{"id":45,"name":"IBT UNIONPAY","image":"","isCheck":1,"params":[{"id":34,"param":1,"name":"enter card ID","coment":"enter card ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":46,"name":"Spitamen Bank UnionPay","image":"","isCheck":1,"params":[{"id":35,"param":1,"name":"enter card ID","coment":"enter card ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":47,"name":"Orienbank - card replenishment","image":"","isCheck":0,"params":[{"id":36,"param":1,"name":"enter card ID","coment":"enter card ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":48,"name":"Topping up Dushanbe City cards","image":"","isCheck":0,"params":[{"id":37,"param":1,"name":"enter card ID","coment":"enter card ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":49,"name":"IBT Visa","image":"","isCheck":0,"params":[{"id":38,"param":1,"name":"enter card ID","coment":"enter card ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"^[1-9]{1}\\d*(\\.\\d{1,2})?$"}]}]},{"id":8,"name":"Other services","image":"","services":[{"id":38,"name":"Зачисление через АСО","image":"","isCheck":0,"params":[{"id":27,"param":1,"name":"account number","coment":"account number","prefix":"7","keyboard":0,"minLen":0,"maxLen":0,"mask":"7"}]},{"id":39,"name":"Taksofon","image":"","isCheck":0,"params":[{"id":28,"param":1,"name":"account number","coment":"account number","prefix":"7","keyboard":0,"minLen":0,"maxLen":0,"mask":"7"}]},{"id":40,"name":"OSHNO SERVICE","image":"","isCheck":0,"params":[{"id":29,"param":1,"name":"account number","coment":"account number","prefix":"7","keyboard":0,"minLen":0,"maxLen":0,"mask":"7"}]}]},{"id":9,"name":"Online store","image":"","services":[{"id":61,"name":"Barakat.tj","image":"","isCheck":0,"params":[{"id":26,"param":1,"name":"enter account number","coment":"enter account number","prefix":"5","keyboard":0,"minLen":0,"maxLen":0,"mask":"5"}]},{"id":93,"name":"Barakat.tj","image":"","isCheck":0,"params":[]}]},{"id":10,"name":"Internet providers","image":"","services":[{"id":79,"name":"Teznet","image":"","isCheck":0,"params":[{"id":74,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":81,"name":"Eastera Inet","image":"","isCheck":0,"params":[{"id":75,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":85,"name":"Telecom Technology (Internet)","image":"","isCheck":0,"params":[{"id":79,"param":1,"name":"enter account number","coment":"enter account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":86,"name":"Internet Megafon","image":"","isCheck":0,"params":[{"id":80,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":87,"name":"NETS","image":"","isCheck":0,"params":[{"id":81,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":82,"name":"Isatel","image":"","isCheck":0,"params":[{"id":76,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":83,"name":"Babilon INET","image":"","isCheck":0,"params":[{"id":77,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":84,"name":"Tojnet","image":"","isCheck":0,"params":[{"id":78,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"^[1-9]{1}\\d*(\\.\\d{1,2})?$"}]}]},{"id":11,"name":"Payment cards","image":"","services":[]},{"id":12,"name":"Payment systems","image":"","services":[{"id":63,"name":"Payment systems","image":"","isCheck":0,"params":[{"id":92,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]}]},{"id":13,"name":"Online games","image":"","services":[{"id":60,"name":"My lands","image":"","isCheck":0,"params":[{"id":49,"param":1,"name":"enter account number","coment":"enter account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":50,"name":"Wareface","image":"","isCheck":0,"params":[{"id":39,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"9"}]},{"id":51,"name":"Troesarstvie","image":"","isCheck":0,"params":[{"id":40,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"9"}]},{"id":52,"name":"Geroi voyni i deneg","image":"","isCheck":0,"params":[{"id":41,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":53,"name":"Allods Online","image":"","isCheck":0,"params":[{"id":42,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":54,"name":"ParaPa Gorod Tansev","image":"","isCheck":0,"params":[{"id":43,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":55,"name":"Voyni mafii","image":"","isCheck":0,"params":[{"id":44,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":56,"name":"TimeZero Prima","image":"","isCheck":0,"params":[{"id":45,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":57,"name":"Podnebesye","image":"","isCheck":0,"params":[{"id":46,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":58,"name":"Moya derevnya","image":"","isCheck":0,"params":[{"id":47,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":59,"name":"TankiOnline","image":"","isCheck":0,"params":[{"id":48,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]}]},{"id":14,"name":"International operators","image":"","services":[{"id":62,"name":"VODAFON UA","image":"","isCheck":0,"params":[{"id":91,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]}]},{"id":15,"name":"Taxi","image":"","services":[{"id":71,"name":"olu4a - Driver balance","image":"","isCheck":1,"params":[{"id":50,"param":1,"name":"enter account number","coment":"enter account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":73,"name":"Taxi Maxim","image":"","isCheck":1,"params":[{"id":52,"param":1,"name":"enter account number","coment":"enter account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"^[1-9]{1}\\d*(\\.\\d{1,2})?$"}]},{"id":74,"name":"Asian Express - Driver Balance","image":"","isCheck":0,"params":[{"id":53,"param":1,"name":"enter account number","coment":"enter account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":75,"name":" Rakhsh","image":"","isCheck":0,"params":[{"id":54,"param":1,"name":"enter account number","coment":"enter account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":72,"name":"olu4a - Main account","image":"","isCheck":1,"params":[{"id":51,"param":1,"name":"enter account number","coment":"enter account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":76,"name":"olu4a - Payment plan","image":"","isCheck":1,"params":[{"id":55,"param":1,"name":"enter account number","coment":"enter account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":77,"name":"Asian Express - Service Fee","image":"","isCheck":0,"params":[{"id":56,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":78,"name":"olu4a - Payment for the trip","image":"","isCheck":1,"params":[{"id":57,"param":1,"name":"Enter phone number (9 digits)","coment":"Enter phone number (9 digits)","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]}]},{"id":16,"name":"Television","image":"","services":[{"id":4,"name":"Somon TV HOME","image":"","isCheck":0,"params":[{"id":59,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":5,"name":"Mavji Somon 2","image":"","isCheck":0,"params":[{"id":58,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":6,"name":"Mavji Somon","image":"","isCheck":0,"params":[{"id":60,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":7,"name":"Oila TV","image":"","isCheck":0,"params":[{"id":61,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":8,"name":"ANT","image":"","isCheck":0,"params":[{"id":62,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":9,"name":"NETS IP TV","image":"","isCheck":0,"params":[{"id":63,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":10,"name":"Somon TV WEB","image":"","isCheck":0,"params":[{"id":64,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":11,"name":"TNT Dastras","image":"","isCheck":0,"params":[{"id":65,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":12,"name":"ТНТ VIP+HD","image":"","isCheck":0,"params":[{"id":66,"param":1,"name":"enter your personal account ID","coment":"enter your personal account ID","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]}]},{"id":17,"name":"Social media","image":"","services":[{"id":91,"name":"Mamba","image":"","isCheck":0,"params":[{"id":93,"param":1,"name":"account number","coment":"account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":92,"name":"Odnoklassniki","image":"","isCheck":0,"params":[{"id":94,"param":1,"name":"account number","coment":"account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]}]},{"id":18,"name":"Bookie company","image":"","services":[{"id":94,"name":"1xBet","image":"","isCheck":1,"params":[{"id":86,"param":1,"name":"account number","coment":"account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"^[1-9]{1}\\d*(\\.\\d{1,2})?$"}]},{"id":95,"name":"Fqrmula uspecha","image":"","isCheck":0,"params":[{"id":87,"param":1,"name":"account number","coment":"account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":96,"name":"KOMYOB","image":"","isCheck":0,"params":[{"id":88,"param":1,"name":"account number","coment":"account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":97,"name":"Pari Match","image":"","isCheck":0,"params":[{"id":89,"param":1,"name":"account number","coment":"account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":98,"name":"RealTennisi","image":"","isCheck":1,"params":[{"id":90,"param":1,"name":"account number","coment":"account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]}]},{"id":19,"name":"Advertisement","image":"","services":[{"id":80,"name":"RG.TJ","image":"","isCheck":0,"params":[{"id":82,"param":1,"name":"account number","coment":"account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":88,"name":"Arzon.tj","image":"","isCheck":0,"params":[{"id":83,"param":1,"name":"account number","coment":"account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":89,"name":"Advertising newspaper","image":"","isCheck":0,"params":[{"id":84,"param":1,"name":"account number","coment":"account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]},{"id":90,"name":"Somon.Tj","image":"","isCheck":0,"params":[{"id":85,"param":1,"name":"account number","coment":"account number","prefix":"","keyboard":0,"minLen":0,"maxLen":0,"mask":"8"}]}]},{"id":21,"name":"test","image":"","services":[]}],"transfers":[]}
        """
        let decoder = JSONDecoder()
        if let result = try? decoder.decode(AppMethods.Payments.GetServices.ServicesResult.self, from: json.data(using: .utf8)!) {
            return .just(result)
        } else {
            return .error(APIManager.instance.decodeError)
        }
    }
}
